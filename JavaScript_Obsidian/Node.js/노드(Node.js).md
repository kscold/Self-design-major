- Node.js는 크롬 V8 지비스크립트 엔진으로 빌드된 자바스크립트 [[런타임(runtime)]]이다.

- Node와 같이 타입스크립트는 dino라는 런타임이 있다.

- 또한 노드의 경우 위에서부터 아래로 실행되기 때문에 [[미들웨어(Middleware)]]와 같은 로직을 처리할 시에 순서가 중요하다.

## 노드는 서버인가?

- 엄밀히 따지면 노드 자체는 서버가 아니나 서버의 역할도 수행할 수 있는 [[런타임(runtime)]]이다.
- 노드로 자바스크립트로 작성된 서버를 실행할 수 있다.
- 서버 실행을 위해 필요한 http/https/http2 모듈을 제공한다.

## 내부 구조

- 자바스크립트 내부 언어는 C나 C++로 쓰여져 있다.

### ilbuv

- ilbuv 덕분에 싱글스레드이면서 [[비동기(asynchronous)]] 모델을 채택했기 때문에 엄청나게 빠른 성능을 빠르게 만들어주었다.

## 노드 서버의 장단점

### 장점

- 멀티스레드 방식에 비해 컴퓨터 자원을 적게 사용한다.
- I/O 작업이 많은 서버로 적합하다.
- 멀티 스레드 방식보다 쉽다.
- 웹 서버가 내장되어 있다.
- 자바스크립트를 사용한다.
- [[JSON(Java Script Object Notation)]] 형식과 호환하기 쉽다.

### 단점

- 싱글 스레드라서 CPU 코어를 하나만 사용한다.
- CPU 작업이 많은 서버로는 부적합하다.
- 하나뿐인 스레드가 멈추기 않도록 관리해야 한다.
- 서버 규모가 커졌을 때 서버를 관리하기 어렵다.
- 어중간한 성능을 나타낸다.

- 따라서 CPU 작업을 위해 AWS Lambda나 Google Cloud Functions 같은 별도 서비스를 사용한다.
- 페이팔, 넷플릭스, 나사, 월마트, 링크드린, 우버 등에서 메인 또는 서브 서버로 사용한다.

## 이벤트

- [[노드(Node.js)]]에서 [[이벤트(event)]]는 [[비동기(asynchronous)]]적인 프로그래밍에서 중요한 개념 중 하나이다.
- 이벤트는 특정한 동작이나 상황을 나타내며, 이러한 이벤트가 발생했을 때 그에 따른 동작을 실행할 수 있다.

- 이벤트를 처리하기 위해서는 이벤트를 발생시키는(emit) 측과 그 이벤트를 감지하고 처리하는(listener) 측이 있다.

### [[이벤트 에밋(Event Emit)]]

- 이벤트를 발생시키는 것을 의미한다.
- 특정한 상황이나 조건이 충족되었을 때 이벤트를 발생시켜 다른 부분에 알리는 역할을 한다.

- 주로 `emit()` 메서드를 사용하여 이벤트를 발생시킨다.
- 이 [[메서드(Method)]]를 호출하면 해당 이벤트가 발생하고, 등록된 리스너들이 이를 감지할 수 있다.

### [[이벤트 리스너(Event Listener)]]

- 이벤트를 감지하고 그에 따른 동작을 정의하는 역할을 한다.
- 즉, 특정한 이벤트가 발생했을 때 실행될 콜백 함수를 정의한다.

- [[on()]] 메서드를 사용하여 특정 이벤트에 대한 리스너를 등록할 수 있다.
- 이 때, 해당 이벤트가 발생하면 등록된 [[콜백 함수(Callback Function)]]가 실행된다.

### 이벤트 사용 예시

-  아래 코드는 `myEmitter`라는 이벤트 발생기를 생성하고, 이벤트인 `customEvent`를 발생시키고 이를 감지하는 리스너를 등록하는 예시이다.

```js
const EventEmitter = require('events');  // 이벤트 발생기 생성 
const myEmitter = new EventEmitter();  // 이벤트 리스너 등록 

myEmitter.on('customEvent', () => {   
	console.log('Custom event occurred'); 
}); // 이벤트 발생

myEmitter.emit('customEvent');
```
`

- 위 코드에서 `emit()`은 [[이벤트(event)]]를 발생시키고, [[on()]]은 [[이벤트 리스너(Event Listener)]]를 등록한다.
- 따라서 `customEvent`가 발생하면 이를 감지하여 "Custom event occurred"를 출력한다.